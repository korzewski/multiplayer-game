{"version":3,"sources":["js/node_modules/browser-pack/_prelude.js","source/js/app.js","source/js/classes/Game.js","source/js/classes/Manager.js","source/js/classes/Menu.js","source/js/classes/PeerPlayer.js","source/js/classes/Player.js"],"names":[],"mappings":"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","file":"js/app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Menu from './classes/Menu';\nimport Game from './classes/Game';\nimport Manager from './classes/Manager';\n\nclass Init extends Phaser.Game {\n    constructor() {\n        super(GLOBAL.width, GLOBAL.height, Phaser.AUTO, 'game');\n        this.state.add('Boot', Boot, false);\n        this.state.add('Preloader', Preloader, false);\n        this.state.add('Menu', Menu, false);\n        this.state.add('Game', Game, false);\n        this.state.start('Boot');\n    }\n}\n\nclass Boot extends Phaser.State {\n    create() {\n        this.input.maxPointers = 1;\n        this.stage.disableVisibilityChange = true;\n\n        if (this.game.device.desktop) {\n            this.scale.pageAlignHorizontally = true;\n            this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n            this.scale.maxWidth = 700;\n            this.scale.maxHeight = 700;\n        } else {\n            // mobile settings\n            this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n            this.scale.minWidth = 480;\n            this.scale.minHeight = 260;\n            this.scale.maxWidth = 1024;\n            this.scale.maxHeight = 768;\n            this.scale.forceLandscape = true;\n            this.scale.pageAlignHorizontally = true;\n            this.scale.refresh();\n        }\n\n        this.game.state.start('Preloader', true, false);\n    }\n}\n\nclass Preloader extends Phaser.State{\n    preload() {\n        this.game.load.tilemap('level1', 'extra/maps/level1.json', null, Phaser.Tilemap.TILED_JSON);\n        this.game.load.image('level1-tiles', 'extra/maps/level1-tiles.png');\n        this.game.load.image('player', 'extra/img/player.png');\n        this.game.load.image('coin', 'extra/img/coin.png');\n        this.game.load.image('bullet-1', 'extra/img/bullet-1.png');\n        this.game.load.image('bullet-2', 'extra/img/bullet-2.png');\n        this.game.load.spritesheet('explosion', 'extra/img/explosion.png', 64, 64);\n    }\n\n    create(){\n        this.game.manager = new Manager(this);\n    }\n\n}\n\nnew Init();\n","import Player from './Player';\nimport PeerPlayer from './PeerPlayer';\n\nexport default class Game extends Phaser.State{\n    create(){\n        this.game.physics.startSystem(Phaser.Physics.ARCADE);\n\n        this.map = this.game.add.tilemap('level1');\n        this.map.addTilesetImage('simples_pimples', 'level1-tiles');\n        this.blockedLayer = this.map.createLayer('blocked');\n        this.blockedLayer.resizeWorld();\n        this.map.setCollisionBetween(1, 10000, true, 'blocked');\n\n        this.coins = this.game.add.group();\n        this.coins.enableBody = true;\n        this.map.createFromObjects('money', 'mm', 'coin', 0, true, false, this.coins);\n\n        this.player = new Player(this.game, 80, 100, 'player', this.blockedLayer);\n        this.game.camera.follow(this.player);\n\n        // this.connectedPlayers = {};\n\n        this.scores = 0;\n        this.textStyle = { font: \"bold 16px Arial\", fill: \"#fff\", boundsAlignH: 'right', align: 'right'};\n        this.scoresLabel = this.game.add.text(0, 0, 'scores: 0', this.textStyle);\n        this.scoresLabel.fixedToCamera = true;\n        this.scoresLabel.cameraOffset.setTo(10, 10);\n\n        this.healthLabel = this.game.add.text(0, 0, 'health: ' + this.player.health, this.textStyle);\n        this.healthLabel.fixedToCamera = true;\n        this.healthLabel.cameraOffset.setTo(10, 30);\n\n        this.killsLabel = this.game.add.text(0, 0, 'kills: ' + this.player.kills, this.textStyle);\n        this.killsLabel.fixedToCamera = true;\n        this.killsLabel.cameraOffset.setTo(10, 50);\n\n        this.game.events.onUserConnected.add(this.onUserConnected, this);\n        this.game.events.onUserDataUpdate.add(this.onUserDataUpdate, this);\n        this.game.events.onUserDisconnected.add(this.onUserDisconnected, this);\n\n        this.game.events.onExplosion = new Phaser.Signal();\n        this.game.events.onExplosion.add(this.addExplosion, this);\n    }\n\n    onUserConnected(connectedPlayer){\n        connectedPlayer.gameObject = new PeerPlayer(this.game, 80, 100, 'player', connectedPlayer.peer, this.blockedLayer);\n\n        this.game.manager.sendSingleData(connectedPlayer.peer, {\n            type: 'updatePositionRequest'\n        });\n    }\n\n    onUserDisconnected(player){\n        this.game.events.onExplosion.dispatch(player.gameObject.x, player.gameObject.y, 1, 1);\n        player.gameObject.destroy();\n    }\n\n    onUserDataUpdate(peerID, data){\n        if(data.type == 'position'){\n            this.game.connectedPlayers[peerID].gameObject.updatePosition(data);\n        } else if(data.type == 'shoot'){\n            this.game.connectedPlayers[peerID].gameObject.shoot(data);\n        } else if(data.type == 'damage'){\n            this.player.addDamage(data, this.game.connectedPlayers[peerID]);\n            this.healthLabel.text = 'health: ' + this.player.health;\n        } else if(data.type == 'kill'){\n            this.player.addKill();\n            this.addPoints(100);\n            this.killsLabel.text = 'kills: ' + this.player.kills;\n        } else if(data.type == 'updatePositionRequest'){\n            this.player.onlineUpdate(true);\n        }\n    }\n\n    update(){\n        this.game.physics.arcade.collide(this.player, this.blockedLayer);\n        this.game.physics.arcade.overlap(this.player, this.coins, this.collectCoin, null, this);\n\n        for(let connectedPlayer in this.game.connectedPlayers){\n            this.game.physics.arcade.overlap(this.game.connectedPlayers[connectedPlayer], this.player.bullets, (connPlayer, bullet) => {\n                this.game.manager.sendSingleData(connPlayer.peer, {\n                    type: 'damage',\n                    damage: this.player.maxDamage\n                });\n\n                this.game.events.onExplosion.dispatch(bullet.x, bullet.y, 0.5);\n                bullet.kill();\n            });\n\n            this.game.physics.arcade.overlap(this.game.connectedPlayers[connectedPlayer].bullets, this.player, (connPlayer, bullet) => {\n                this.game.events.onExplosion.dispatch(bullet.x, bullet.y, 0.5);\n                bullet.kill();\n            });\n\n            for(let connectedPlayer2 in this.game.connectedPlayers){\n                if(connectedPlayer != connectedPlayer2){\n                    this.game.physics.arcade.overlap(this.game.connectedPlayers[connectedPlayer].bullets, this.game.connectedPlayers[connectedPlayer2], (connectedPlayer, bullet) => {\n                        this.game.events.onExplosion.dispatch(bullet.x, bullet.y, 0.5);\n                        bullet.kill();\n                    });\n                }\n            }\n        }\n    }\n\n    collectCoin(player, coin){\n        coin.kill();\n        this.addPoints(10);\n    }\n\n    addPoints(value){\n        this.scores += value;\n        this.scoresLabel.text = 'scores: ' + this.scores;\n    }\n\n    addExplosion(x, y, maxScale, alpha){\n        let explosion = this.game.add.sprite(x, y, 'explosion');\n        explosion.animations.add('walk');\n        explosion.animations.play('walk', 45, false, true);\n        explosion.anchor.setTo(0.5);\n        explosion.alpha = alpha || 0.8;\n\n        let randomScale = maxScale - (this.game.rnd.frac() * 0.2);\n        explosion.scale.setTo(randomScale);\n    }\n\n    render() {\n        //this.game.debug.text('Active Bullets: ' + this.player.bullets.countLiving() + ' / ' + this.player.bullets.total, 10, 45);\n        //this.game.debug.cameraInfo(this.game.camera, 32, 32);\n        //this.game.debug.spriteCoords(this.player, 32, 500);\n    }\n}","let socket,\n    selfPeer,\n    connectedPlayers = {},\n    context;\n\nexport default class Manager {\n    constructor(ctx){\n        context = ctx;\n        initEvents();\n        initServerConnection();\n    }\n\n    updateRoomsList() {\n        socket.emit('get-rooms-list');\n    }\n\n    joinRoom(roomName) {\n        socket.emit('join-room', roomName, context.game.playerName);\n    }\n\n    broadcast(data) {\n        for(const peerID in connectedPlayers){\n            connectedPlayers[peerID].peer.send(data);\n        };\n    }\n\n    sendSingleData(peer, data) {\n        peer.send(data);\n    }\n}\n\nfunction initIO(peerID) {\n    socket = io();\n    socket.on('rooms-list', onRoomsList);\n    socket.on('room-connected', onRoomConnected);\n    socket.on('player-joined-to-room', connectToPlayer);\n    socket.on('player-leave-a-room', disconnectPlayer);\n\n    socket.emit('new-player', peerID, context.game.playerName);\n\n    console.log('--- initIO peerID: ', peerID);\n    context.game.state.start('Menu');\n}\n\nconst onRoomsList = (rooms) => {\n    context.game.events.onRoomsList.dispatch(rooms);\n}\n\nfunction initServerConnection() {\n    fetch('/getServerInfo').then((response) => {\n        return response.json();\n    }).then((data) => {\n        createPeer(data);\n    });\n}\n\nfunction createPeer(data) {\n    console.log('createPeer env: ' + data.env + ' port: ' + data.port);\n\n    if(data.env === 'production') {\n        selfPeer = new Peer({\n            host:'/',\n            secure:true,\n            port:443,\n            key: 'peerjs',\n            path: '/api',\n            config: {\n                'iceServers': [{ url: 'stun:stun.l.google.com:19302' }]\n            }\n        });\n    } else {\n        selfPeer = new Peer({host: '/', port: data.port, path: '/api'});\n    }\n\n    selfPeer.on('open', onPeerOpen);\n    selfPeer.on('connection', onPlayerConnection);\n}\n\nfunction onPlayerConnection(conn) {\n    function onPlayerData(data) {\n        context.game.events.onUserDataUpdate.dispatch(conn.peer, data);\n    }\n\n    conn.on('data', onPlayerData);\n}\n\nfunction connectToPlayer(player) {\n    if(selfPeer.id !== player.peerID){\n        let conn = selfPeer.connect(player.peerID);\n\n        function connectionReady() {\n            connectedPlayers[player.peerID] = { peer: conn, name };\n            context.game.events.onUserConnected.dispatch(connectedPlayers[player.peerID]);\n        }\n        \n        conn.on('open', connectionReady);\n    }\n}\n\nfunction disconnectPlayer(peerID) {\n    const player = connectedPlayers[peerID];\n    context.game.events.onUserDisconnected.dispatch(player);\n    console.log('player disconnected: ', player);\n    \n    delete connectedPlayers[peerID];\n    console.log('connectedPlayers: ', connectedPlayers);\n}\n\nfunction onPeerOpen(peerID) {\n    console.log('peer: ', this);\n    initIO(peerID);\n}\n\nfunction onRoomConnected(roomPlayers) {\n    context.game.state.start('Game');\n\n    roomPlayers.forEach((player) => {\n        connectToPlayer(player);\n    });\n}\n\n// const onUserDisconnected = (user) => {\n//     console.log('onUserDisconnected: ', user);\n//     context.game.events.onUserDisconnected.dispatch(user);\n// }\n\nconst initEvents = () => {\n    setPlayerName();\n\n    context.game.connectedPlayers = connectedPlayers;\n\n    context.game.events = context.game.events || {};\n    context.game.events.onUserConnected = new Phaser.Signal();\n    context.game.events.onUserDisconnected = new Phaser.Signal();\n    context.game.events.onUserDataUpdate = new Phaser.Signal();\n    context.game.events.onRoomsList = new Phaser.Signal();\n}\n\nfunction setPlayerName() {\n    context.game.playerName = '';\n    while(context.game.playerName === '') {\n        context.game.playerName = prompt('Please enter your name', localStorage.getItem('playerName') || '');\n    }\n    localStorage.setItem('playerName', context.game.playerName);\n    console.log('playerName: ', context.game.playerName);\n}\n","const fontStyle = { font: \"bold 16px Arial\", fill: \"#fff\" };\n\nexport default class Menu extends Phaser.State {\n    create(){\n    \tthis.menuText = this.game.add.text(100, 30, 'rooms list', fontStyle);\n    \tthis.menuText.anchor.setTo(0, 0.5);\n\n    \tthis.updateText = this.game.add.text(this.game.width - 20, 30, 'update rooms', fontStyle);\n    \tthis.updateText.anchor.setTo(1, 0.5);\n    \tthis.updateText.inputEnabled = true;\n\n    \tthis.updateText.events.onInputDown.add(this.game.manager.updateRoomsList, this);\n    \tthis.game.events.onRoomsList.add(this.showRoomList, this);\n    }\n\n    showRoomList(rooms) {\n    \tif(this.roomsButtons) {\n    \t\tthis.roomsButtons.destroy();\n    \t}\n\n    \tthis.roomsButtons = this.game.add.group();\n    \tthis.roomsButtons.position.setTo(100, 50);\n\n    \tfor(let i = 0; i < rooms.length; i++) {\n\t    \tconst button = this.game.add.text(0, i * 30, `${rooms[i].name} [${rooms[i].players.length}]`, fontStyle);\n\t    \tbutton.inputEnabled = true;\n\t    \tbutton.events.onInputDown.add(this.joinRoom.bind(this, rooms[i].name));\n\t    \tthis.roomsButtons.add(button);\n    \t}\n    }\n\n    joinRoom(roomName) {\n    \tconsole.log('joinRoom: ', roomName);\n    \tthis.game.manager.joinRoom(roomName);\n    }\n}","export default class PeerPlayer extends Phaser.Sprite{\n    constructor(game, posX, posY, spriteName, peer, blockedLayer) {\n        super(game, posX, posY, spriteName);\n        this.game.physics.arcade.enable(this);\n        this.peer = peer;\n        this.blockedLayer = blockedLayer;\n\n        this.anchor.setTo(0.5, 0.5);\n        this.initBullets();\n\n        this.game.add.existing(this);\n    }\n\n    updatePosition(data){\n        if(data.posX > this.position.x){\n            this.scale.x = -1;\n        } else {\n            this.scale.x = 1;\n        }\n\n        this.position.x = data.posX;\n        this.position.y = data.posY;\n    }\n\n    initBullets() {\n        this.bullets = this.game.add.physicsGroup(Phaser.Physics.ARCADE);\n        this.bullets.createMultiple(10, 'bullet-1');\n        this.bullets.forEach((bullet) => {\n            bullet.anchor.setTo(0.5);\n            bullet.scale.setTo(0.9);\n            bullet.smoothed = false;\n            bullet.checkWorldBounds = true;\n            bullet.outOfBoundsKill = true;\n        });\n    }\n\n    shoot(data){\n        let dataPoint = new Phaser.Point(data.bullet.x, data.bullet.y);\n\n        let bullet = this.bullets.getFirstDead();\n        bullet.reset(dataPoint.x, dataPoint.y);\n\n        let newPoint =  Phaser.Point.rotate(new Phaser.Point(dataPoint.x + 10, dataPoint.y), dataPoint.x, dataPoint.y, data.bullet.angleDeg, true);\n        this.game.physics.arcade.moveToXY(bullet, newPoint.x, newPoint.y, data.bullet.speed);\n    }\n\n    getNickname(){\n        return this.peer.peer;\n    }\n\n    update(){\n        this.game.physics.arcade.collide(this.bullets, this.blockedLayer, (bullet) => {\n            this.game.events.onExplosion.dispatch(bullet.x, bullet.y, 0.4);\n            bullet.kill();\n        });\n    }\n\n}","export default class Player extends Phaser.Sprite{\n    constructor(game, posX, posY, spriteName, blockedLayer){\n        super(game, posX, posY, spriteName);\n        this.game.physics.arcade.enable(this);\n        this.body.collideWorldBounds = true;\n\n        this.smoothed = false;\n        this.anchor.setTo(0.5, 0.5);\n        this.blockedLayer = blockedLayer;\n\n        this.initValues();\n        this.initMovement();\n        this.initBullets();\n\n        this.lastOnlinePosition = new Phaser.Point(this.x, this.y);\n        this.game.add.existing(this);\n    }\n\n    update(){\n        this.body.velocity.x = this.body.velocity.y = 0;\n\n        if(this.cursors.right.isDown || this.cursorsWSAD.right.isDown){\n            this.body.velocity.x += this.speed;\n            this.scale.x = -1;\n        } else if(this.cursors.left.isDown || this.cursorsWSAD.left.isDown){\n            this.body.velocity.x -= this.speed;\n            this.scale.x = 1;\n        }\n\n        if(this.cursors.down.isDown || this.cursorsWSAD.down.isDown){\n            this.body.velocity.y += this.speed;\n        } else if(this.cursors.up.isDown || this.cursorsWSAD.up.isDown){\n            this.body.velocity.y -= this.speed;\n        }\n\n        this.game.physics.arcade.collide(this.bullets, this.blockedLayer, (bullet) => {\n            this.game.events.onExplosion.dispatch(bullet.x, bullet.y, 0.5);\n            bullet.kill();\n        });\n\n        this.onlineUpdate();\n    }\n\n    initValues() {\n        this.health = 100;\n        this.maxDamage = 10;\n        this.kills = 0;\n\n        this.speed = 100;\n        this.fireRate = 100;\n        this.nextFire = 0;\n        this.bulletSpeed = 200;\n    }\n\n    initMovement() {\n        this.cursors = this.game.input.keyboard.createCursorKeys();\n        this.cursorsWSAD = {\n            up: this.game.input.keyboard.addKey(Phaser.Keyboard.W),\n            down: this.game.input.keyboard.addKey(Phaser.Keyboard.S),\n            left: this.game.input.keyboard.addKey(Phaser.Keyboard.A),\n            right: this.game.input.keyboard.addKey(Phaser.Keyboard.D),\n        };\n        this.game.input.onDown.add(this.fire, this);\n    }\n\n    initBullets() {\n        this.bullets = this.game.add.physicsGroup(Phaser.Physics.ARCADE);\n        this.bullets.createMultiple(10, 'bullet-1');\n        this.bullets.forEach((bullet) => {\n            bullet.anchor.setTo(0.5);\n            bullet.scale.setTo(0.9);\n            bullet.smoothed = false;\n            bullet.checkWorldBounds = true;\n            bullet.outOfBoundsKill = true;\n        });\n    }\n\n    fire(){\n        if(this.game.time.now > this.nextFire && this.bullets.countDead() > 0){\n            this.nextFire = this.game.time.now + this.fireRate;\n\n            let bullet = this.bullets.getFirstDead();\n            bullet.reset(this.x, this.y);\n\n            let shootAngleDeg = Phaser.Math.radToDeg( this.game.physics.arcade.moveToPointer(bullet, this.bulletSpeed) );\n            let shootInfo = {\n                angleDeg: shootAngleDeg,\n                speed: this.bulletSpeed,\n                x: parseInt(bullet.x),\n                y: parseInt(bullet.y)\n            };\n\n            this.game.manager.broadcast({\n                type: 'shoot',\n                bullet: shootInfo\n            });\n        }\n    }\n\n    addKill(){\n        this.kills++;\n    }\n\n    addDamage(data, connectedPlayer){\n        this.health -= data.damage;\n        if(this.health <= 0){\n            this.gameOver(connectedPlayer);\n        }\n    }\n\n    gameOver(connectedPlayer){\n        console.log('killed by: ', connectedPlayer);\n        this.game.manager.sendSingleData(connectedPlayer.peer, {\n            type: 'kill'\n        });\n        window.location.reload();\n    }\n\n    onlineUpdate(updatePositionRequest){\n        if(this.position.x != this.lastOnlinePosition.x || this.position.y != this.lastOnlinePosition.y || updatePositionRequest){\n            this.game.manager.broadcast({\n                type: 'position',\n                posX: parseInt(this.position.x),\n                posY: parseInt(this.position.y)\n            });\n\n            this.lastOnlinePosition = new Phaser.Point(this.position.x, this.position.y);\n        }\n    }\n}"]}